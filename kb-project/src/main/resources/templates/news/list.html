<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<link href="/css/newslist.css" rel="stylesheet">
<link href="/css/button.css" rel="stylesheet">
<link href="/css/newsmodal.css" rel="stylesheet">
<meta charset="UTF-8">
<title>News List</title>

<!-- Bootstrap CSS -->
<link rel="stylesheet"
   href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
   <div id="box" class="row justify-content-center col-md-5 mx-auto"
      style="margin-top: 20px; background-color: #FFFFFF; overflow: auto; width: 100%; height: 650px; border-radius: 15px; box-shadow: 0 0.9rem 1.7rem rgba(0, 0, 0, 0.25), 0 0.7rem 0.7rem rgba(0, 0, 0, 0.22);">
      <div class="p-2 text-center">
         <h2>오늘의 뉴스</h2>
      </div>
      <div class="container"
         style="overflow: auto; width: 500px; height: 480px;">
         <div>
            <ol class="large-numbers">
               <li th:each="news : ${newsList}"><a
                  th:href="@{/news/detail/{title}(title=${news.title})}"
                  onclick="openModal(this.getAttribute('href')); return false;"
                  th:text="${news.title}"></a></li>
            </ol>
         </div>
      </div>
      <div style="margin: 0 auto; margin-bottom: 30px;">
         <a th:href="@{/users/main}"><button class="custom-btn btn-3">
               <span>메인으로 돌아가기</span>
            </button></a>
      </div>
   </div>
   <!-- 모달 창 -->
   <div id="myModal" style="display: none;">
      <span class="close" onclick="closeModal()">&times;</span>
      <iframe id="modalIframe" src="" frameborder="0"></iframe>
   </div>
   <script>
   // 모달 열기
   function openModal(url) {
       var modal = document.getElementById('myModal');
       var iframe = document.getElementById('modalIframe');

       iframe.src = url;
       modal.style.display = 'block';
   }

    // 모달 닫기
    function closeModal() {
        var modal = document.getElementById('myModal');
        modal.style.display = 'none';
    }

    // 모달 외부 클릭 시 모달 닫기
    window.onclick = function(event) {
        var modal = document.getElementById('myModal');
        if (event.target == modal) {
            modal.style.display = 'none';
        }
    }
</script>

   <!-- Bootstrap JS -->
   <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
   <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@1.16.1/dist/umd/popper.min.js"></script>
   <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>